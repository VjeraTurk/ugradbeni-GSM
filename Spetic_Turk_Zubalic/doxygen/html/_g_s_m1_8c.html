<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>GSM kontorler osvjetljenja: C:/Users/admin/Desktop/GSM1/GSM1/GSM1.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GSM kontorler osvjetljenja
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_g_s_m1_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">GSM1.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is the main file where AT commands are sent to gsm module requesting received SMS messages saved on SIM card within GSM module. SMS messages are being analyzed and replayed to with light intensity and light is switched off and on depending on SMS content.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="lcd_8h_source.html">lcd.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;avr/io.h&gt;</code><br />
<code>#include &lt;util/delay.h&gt;</code><br />
<code>#include &lt;avr/pgmspace.h&gt;</code><br />
<code>#include &lt;avr/interrupt.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div>
<p><a href="_g_s_m1_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a43bafb28b29491ec7f871319b5a3b2f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a43bafb28b29491ec7f871319b5a3b2f8">F_CPU</a>&#160;&#160;&#160;8000000UL</td></tr>
<tr class="separator:a43bafb28b29491ec7f871319b5a3b2f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2909a95b18063934f4eac3568e26406b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a2909a95b18063934f4eac3568e26406b">F_PWM</a>&#160;&#160;&#160;1000U</td></tr>
<tr class="separator:a2909a95b18063934f4eac3568e26406b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0240ac851181b84ac374872dc5434ee4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a0240ac851181b84ac374872dc5434ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0eef637f1016e8786e45e106a4881e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#afc0eef637f1016e8786e45e106a4881e">TOP</a>&#160;&#160;&#160;(((<a class="el" href="_g_s_m1_8c.html#a43bafb28b29491ec7f871319b5a3b2f8">F_CPU</a>/<a class="el" href="_g_s_m1_8c.html#a2909a95b18063934f4eac3568e26406b">F_PWM</a>)/<a class="el" href="_g_s_m1_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-1)</td></tr>
<tr class="separator:afc0eef637f1016e8786e45e106a4881e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa580da35d5419c2220143bf64a4b36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a2aa580da35d5419c2220143bf64a4b36">RED_DEF</a>&#160;&#160;&#160;<a class="el" href="_g_s_m1_8c.html#afc0eef637f1016e8786e45e106a4881e">TOP</a>/3</td></tr>
<tr class="separator:a2aa580da35d5419c2220143bf64a4b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62634036639f88eece6fbf226b45f84b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a62634036639f88eece6fbf226b45f84b">BAUD</a>&#160;&#160;&#160;9600</td></tr>
<tr class="separator:a62634036639f88eece6fbf226b45f84b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91cf1c8bed2b5667f322c71ac83e8294"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a91cf1c8bed2b5667f322c71ac83e8294">BRC</a>&#160;&#160;&#160;((<a class="el" href="_g_s_m1_8c.html#a43bafb28b29491ec7f871319b5a3b2f8">F_CPU</a>/16/<a class="el" href="_g_s_m1_8c.html#a62634036639f88eece6fbf226b45f84b">BAUD</a>)-1)</td></tr>
<tr class="separator:a91cf1c8bed2b5667f322c71ac83e8294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a739a2a1a0047c98ac1b18ecd25dac092"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a739a2a1a0047c98ac1b18ecd25dac092">RX_BUFFER_SIZE</a>&#160;&#160;&#160;255</td></tr>
<tr class="separator:a739a2a1a0047c98ac1b18ecd25dac092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d23feea868a983c8c2b661e1e16972f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a8d23feea868a983c8c2b661e1e16972f">RED</a>&#160;&#160;&#160;PD4</td></tr>
<tr class="separator:a8d23feea868a983c8c2b661e1e16972f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfbc006ea433ad708fdee3e82996e721"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#acfbc006ea433ad708fdee3e82996e721">GREEN</a>&#160;&#160;&#160;PD3</td></tr>
<tr class="separator:acfbc006ea433ad708fdee3e82996e721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d10e672abb49ad63eeaa8aaef57c38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a79d10e672abb49ad63eeaa8aaef57c38">BLUE</a>&#160;&#160;&#160;PD2</td></tr>
<tr class="separator:a79d10e672abb49ad63eeaa8aaef57c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7a7ba1ab7e0406f1b5ab36d579f585"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#aeb7a7ba1ab7e0406f1b5ab36d579f585">LED</a>&#160;&#160;&#160;PA2</td></tr>
<tr class="separator:aeb7a7ba1ab7e0406f1b5ab36d579f585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e89d523436fcbbf2c56e4fb335d509"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a44e89d523436fcbbf2c56e4fb335d509">SLEEP</a>&#160;&#160;&#160;PA3</td></tr>
<tr class="separator:a44e89d523436fcbbf2c56e4fb335d509"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a68f52df99eb21e6ef4cf3dbcf0527f97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a68f52df99eb21e6ef4cf3dbcf0527f97">ISR</a> (USART_RXC_vect)</td></tr>
<tr class="memdesc:a68f52df99eb21e6ef4cf3dbcf0527f97"><td class="mdescLeft">&#160;</td><td class="mdescRight">USART Interrupt service routine which fills rxBuffer the moment new data is received.  <a href="#a68f52df99eb21e6ef4cf3dbcf0527f97">More...</a><br /></td></tr>
<tr class="separator:a68f52df99eb21e6ef4cf3dbcf0527f97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f642029a9a7ac7b850d053ea701af26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a8f642029a9a7ac7b850d053ea701af26">USART_putc</a> (char data)</td></tr>
<tr class="memdesc:a8f642029a9a7ac7b850d053ea701af26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends one character to USART.  <a href="#a8f642029a9a7ac7b850d053ea701af26">More...</a><br /></td></tr>
<tr class="separator:a8f642029a9a7ac7b850d053ea701af26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8071f54c9c2e903d271f6fd8c4d08e4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a8071f54c9c2e903d271f6fd8c4d08e4c">USART_puts</a> (char str[])</td></tr>
<tr class="memdesc:a8071f54c9c2e903d271f6fd8c4d08e4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends string of characters to USART.  <a href="#a8071f54c9c2e903d271f6fd8c4d08e4c">More...</a><br /></td></tr>
<tr class="separator:a8071f54c9c2e903d271f6fd8c4d08e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02fd73d861ef2e4aabb38c0c9ff82947"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a> ()</td></tr>
<tr class="memdesc:a02fd73d861ef2e4aabb38c0c9ff82947"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for initializing LCD, ADC and IO pins.  <a href="#a02fd73d861ef2e4aabb38c0c9ff82947">More...</a><br /></td></tr>
<tr class="separator:a02fd73d861ef2e4aabb38c0c9ff82947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902127e4aea445572098c396c6ad93ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a902127e4aea445572098c396c6ad93ed">enable_text_mode</a> ()</td></tr>
<tr class="memdesc:a902127e4aea445572098c396c6ad93ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends at command for entering text mode. It is called in while loop while(!enable_text_mode()); until OK answer is received from GSM, meaning it has entered the text mode.  <a href="#a902127e4aea445572098c396c6ad93ed">More...</a><br /></td></tr>
<tr class="separator:a902127e4aea445572098c396c6ad93ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6751cac0e506160798577514a76613d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a6751cac0e506160798577514a76613d8">request_sms</a> (char index, char tenner)</td></tr>
<tr class="memdesc:a6751cac0e506160798577514a76613d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends at command for requesting sms of certain index. For indexes higher than 9, it also sends out index's tenner. (The highest index it can request is 99, but since SIM car memory can handle around 25 messages it is not required)  <a href="#a6751cac0e506160798577514a76613d8">More...</a><br /></td></tr>
<tr class="separator:a6751cac0e506160798577514a76613d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc16f150772fbd71d51405a2be470727"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#acc16f150772fbd71d51405a2be470727">read_rxBuffer</a> ()</td></tr>
<tr class="memdesc:acc16f150772fbd71d51405a2be470727"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function analyzes what is written in rxBuffer after GSM finishes responding to AT command (requesting SMS message). There are 3 answers it is looking for: 1) +CME: ERROR 321 2) +CMGR: "REC UNREAD","0","&lt;phone number&gt;",,"yy/MM/dd,hh:mm:ss+zz" &lt;sms text&gt;=""&gt;  <a href="#acc16f150772fbd71d51405a2be470727">More...</a><br /></td></tr>
<tr class="separator:acc16f150772fbd71d51405a2be470727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a568ce1ccfefee4284778b848c42cad3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a568ce1ccfefee4284778b848c42cad3e">get_from_number</a> (int)</td></tr>
<tr class="memdesc:a568ce1ccfefee4284778b848c42cad3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function extracts phone number from rxBuffer, (after it is confirmed that rxBuffer containes a valid READ or UNREAD message in <a class="el" href="_g_s_m1_8c.html#acc16f150772fbd71d51405a2be470727" title="Function analyzes what is written in rxBuffer after GSM finishes responding to AT command (requesting...">read_rxBuffer()</a> function)  <a href="#a568ce1ccfefee4284778b848c42cad3e">More...</a><br /></td></tr>
<tr class="separator:a568ce1ccfefee4284778b848c42cad3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb9b2bbe3bbab854567aa563482bedac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#abb9b2bbe3bbab854567aa563482bedac">LUX</a> ()</td></tr>
<tr class="memdesc:abb9b2bbe3bbab854567aa563482bedac"><td class="mdescLeft">&#160;</td><td class="mdescRight">If sms_flag is set to 2, meaning there is an SMS in rxBuffer, <a class="el" href="_g_s_m1_8c.html#abb9b2bbe3bbab854567aa563482bedac" title="If sms_flag is set to 2, meaning there is an SMS in rxBuffer, LUX()function is entered. It seeks code word &quot;LUX?&quot; in received SMS. ">LUX()</a>function is entered. It seeks code word "LUX?" in received SMS.  <a href="#abb9b2bbe3bbab854567aa563482bedac">More...</a><br /></td></tr>
<tr class="separator:abb9b2bbe3bbab854567aa563482bedac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcec23b2e480939c50208a82c76e3926"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#abcec23b2e480939c50208a82c76e3926">getLight</a> (uint8_t)</td></tr>
<tr class="memdesc:abcec23b2e480939c50208a82c76e3926"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles ad conversion.  <a href="#abcec23b2e480939c50208a82c76e3926">More...</a><br /></td></tr>
<tr class="separator:abcec23b2e480939c50208a82c76e3926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d8ff69f127ae9293d7cbb94d0fe0cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a07d8ff69f127ae9293d7cbb94d0fe0cd">delete_sms</a> (char index, char tenner)</td></tr>
<tr class="memdesc:a07d8ff69f127ae9293d7cbb94d0fe0cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends at command for deleting sms of certain index. For indexes higher than 9, it also sends out index's tenner. (The highest index it can request is 99, but since SIM car memory can handle around 25 messages it is not required) It than waits for GSM module to reply with OK, meaning sms was successfully deleted.  <a href="#a07d8ff69f127ae9293d7cbb94d0fe0cd">More...</a><br /></td></tr>
<tr class="separator:a07d8ff69f127ae9293d7cbb94d0fe0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26336a79cf2d889f78f1cad5f53401f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a26336a79cf2d889f78f1cad5f53401f6">see_rxBuffer</a> ()</td></tr>
<tr class="memdesc:a26336a79cf2d889f78f1cad5f53401f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function puts rxBuffer content to 16x2 LCD screen.  <a href="#a26336a79cf2d889f78f1cad5f53401f6">More...</a><br /></td></tr>
<tr class="separator:a26336a79cf2d889f78f1cad5f53401f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79bbaaf84365d2ae6f6f2d8e1f43d2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#ab79bbaaf84365d2ae6f6f2d8e1f43d2b">refresh_rxBuffer</a> ()</td></tr>
<tr class="memdesc:ab79bbaaf84365d2ae6f6f2d8e1f43d2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets rxReadPos and rxWritePos to 0 and "empties" rxBuffer.  <a href="#ab79bbaaf84365d2ae6f6f2d8e1f43d2b">More...</a><br /></td></tr>
<tr class="separator:ab79bbaaf84365d2ae6f6f2d8e1f43d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3947eb802e574b7c70d9d2d9dff66a16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a3947eb802e574b7c70d9d2d9dff66a16">RED_light</a> ()</td></tr>
<tr class="memdesc:a3947eb802e574b7c70d9d2d9dff66a16"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function turns on red back light.  <a href="#a3947eb802e574b7c70d9d2d9dff66a16">More...</a><br /></td></tr>
<tr class="separator:a3947eb802e574b7c70d9d2d9dff66a16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1032665cec72a5ce76a2c32d73c7626f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a1032665cec72a5ce76a2c32d73c7626f">GREEN_light</a> ()</td></tr>
<tr class="memdesc:a1032665cec72a5ce76a2c32d73c7626f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function turns on green back light.  <a href="#a1032665cec72a5ce76a2c32d73c7626f">More...</a><br /></td></tr>
<tr class="separator:a1032665cec72a5ce76a2c32d73c7626f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a5f77eb7b587559ddd23baf9e627434"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a8a5f77eb7b587559ddd23baf9e627434">BLUE_light</a> ()</td></tr>
<tr class="memdesc:a8a5f77eb7b587559ddd23baf9e627434"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function turns on blue back light.  <a href="#a8a5f77eb7b587559ddd23baf9e627434">More...</a><br /></td></tr>
<tr class="separator:a8a5f77eb7b587559ddd23baf9e627434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6784b2bb794bd47a615b7a9be2ebf7db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a6784b2bb794bd47a615b7a9be2ebf7db">rainbow</a> ()</td></tr>
<tr class="memdesc:a6784b2bb794bd47a615b7a9be2ebf7db"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function switches 6 back light colors, from red to violet.  <a href="#a6784b2bb794bd47a615b7a9be2ebf7db">More...</a><br /></td></tr>
<tr class="separator:a6784b2bb794bd47a615b7a9be2ebf7db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a5fef7ee4b4629f64f6f39cc3b14f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a98a5fef7ee4b4629f64f6f39cc3b14f3">one_by_one</a> ()</td></tr>
<tr class="memdesc:a98a5fef7ee4b4629f64f6f39cc3b14f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function repeats the standard procedure of requesting, analyzing, responding to and deleting SMS for the 39 messages. Depending on SIM card type, it can contain 25 up to 32 sms messages in its memory. Other types of memory can contain more sms.  <a href="#a98a5fef7ee4b4629f64f6f39cc3b14f3">More...</a><br /></td></tr>
<tr class="separator:a98a5fef7ee4b4629f64f6f39cc3b14f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f73151a8aff1d6f44a8a558131fae0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a52f73151a8aff1d6f44a8a558131fae0">send_sms</a> (char <a class="el" href="_g_s_m1_8c.html#a92d0e356e4e64003fb139359dd2fafc9">number</a>[], char sms_text[])</td></tr>
<tr class="memdesc:a52f73151a8aff1d6f44a8a558131fae0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for sending sms containing given text to given number.  <a href="#a52f73151a8aff1d6f44a8a558131fae0">More...</a><br /></td></tr>
<tr class="separator:a52f73151a8aff1d6f44a8a558131fae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a334b98c9b2ec82a777b7a9b02da430ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a334b98c9b2ec82a777b7a9b02da430ea">read_new_sms</a> ()</td></tr>
<tr class="memdesc:a334b98c9b2ec82a777b7a9b02da430ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">In sleep mode, this function reads content sent to UART upon receipt. Finds out sender's number and calls <a class="el" href="_g_s_m1_8c.html#abb9b2bbe3bbab854567aa563482bedac" title="If sms_flag is set to 2, meaning there is an SMS in rxBuffer, LUX()function is entered. It seeks code word &quot;LUX?&quot; in received SMS. ">LUX()</a> to analyze sms text. Afterwords, puts gsm to sleep mode by calling <a class="el" href="_g_s_m1_8c.html#a967cdecd71b387aa8a503177b46ef14b" title="This function sends AT command to allow sleep mode. When sleep mode is allowed, high voltage on pin G...">sleep_mode()</a>  <a href="#a334b98c9b2ec82a777b7a9b02da430ea">More...</a><br /></td></tr>
<tr class="separator:a334b98c9b2ec82a777b7a9b02da430ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a43b99fdf8950fb14112fd963881c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#ac0a43b99fdf8950fb14112fd963881c3">reboot</a> ()</td></tr>
<tr class="memdesc:ac0a43b99fdf8950fb14112fd963881c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends AT command to reboot GSM module.  <a href="#ac0a43b99fdf8950fb14112fd963881c3">More...</a><br /></td></tr>
<tr class="separator:ac0a43b99fdf8950fb14112fd963881c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a967cdecd71b387aa8a503177b46ef14b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a967cdecd71b387aa8a503177b46ef14b">sleep_mode</a> ()</td></tr>
<tr class="memdesc:a967cdecd71b387aa8a503177b46ef14b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends AT command to allow sleep mode. When sleep mode is allowed, high voltage on pin GP 18 puts GSM in sleep mode.  <a href="#a967cdecd71b387aa8a503177b46ef14b">More...</a><br /></td></tr>
<tr class="separator:a967cdecd71b387aa8a503177b46ef14b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function is called once the program is started. It enables text mode and then empties sim card sms storage. Polling mode and sleep mode are 2 separate modes, this code is currently set for sleep mode.  <a href="#a840291bc02cba5474a4cb46a9b9566fe">More...</a><br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a19014f9770342ac48702a7b9a1e497cb"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a19014f9770342ac48702a7b9a1e497cb">tm_flag</a> =0</td></tr>
<tr class="separator:a19014f9770342ac48702a7b9a1e497cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c03bd740247907ca6f763032dc750e8"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a8c03bd740247907ca6f763032dc750e8">rq_flag</a> =0</td></tr>
<tr class="separator:a8c03bd740247907ca6f763032dc750e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a582019b4589d11226a9005840396d839"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a582019b4589d11226a9005840396d839">del_flag</a> =0</td></tr>
<tr class="separator:a582019b4589d11226a9005840396d839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9bf48f1659aa8f7062da8cd3758ee2d"><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#ae9bf48f1659aa8f7062da8cd3758ee2d">sms_flag</a> =0</td></tr>
<tr class="separator:ae9bf48f1659aa8f7062da8cd3758ee2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52965a1c4f6d34e3a0afaa0133a8754e"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a52965a1c4f6d34e3a0afaa0133a8754e">rxBuffer</a> [<a class="el" href="_g_s_m1_8c.html#a739a2a1a0047c98ac1b18ecd25dac092">RX_BUFFER_SIZE</a>]</td></tr>
<tr class="separator:a52965a1c4f6d34e3a0afaa0133a8754e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6fba3efa90550dfbda401e219680c5"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#acb6fba3efa90550dfbda401e219680c5">rxReadPos</a> =0</td></tr>
<tr class="separator:acb6fba3efa90550dfbda401e219680c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4167a828df71486e84cae0823911302f"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a4167a828df71486e84cae0823911302f">rxWritePos</a> =0</td></tr>
<tr class="separator:a4167a828df71486e84cae0823911302f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e61d9a53270c072784d6124d6d574e"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a21e61d9a53270c072784d6124d6d574e">first_data</a> = -1</td></tr>
<tr class="separator:a21e61d9a53270c072784d6124d6d574e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4272aefa5f590aa888fe0c8a6c85525"><td class="memItemLeft" align="right" valign="top">volatile char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#ad4272aefa5f590aa888fe0c8a6c85525">from_number</a> [13]</td></tr>
<tr class="separator:ad4272aefa5f590aa888fe0c8a6c85525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5ad21faf5dd46778fa9a97e290f736"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a3b5ad21faf5dd46778fa9a97e290f736">upaljeno</a> = 0</td></tr>
<tr class="separator:a3b5ad21faf5dd46778fa9a97e290f736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0777dbb089411124a768d22d3aabcf8"><td class="memItemLeft" align="right" valign="top">volatile char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#af0777dbb089411124a768d22d3aabcf8">from_number_lux</a> [13]</td></tr>
<tr class="separator:af0777dbb089411124a768d22d3aabcf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c878be34c4bff72645cdb6f38a05aa"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a72c878be34c4bff72645cdb6f38a05aa">k</a> = 0</td></tr>
<tr class="separator:a72c878be34c4bff72645cdb6f38a05aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d0e356e4e64003fb139359dd2fafc9"><td class="memItemLeft" align="right" valign="top">volatile char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_g_s_m1_8c.html#a92d0e356e4e64003fb139359dd2fafc9">number</a> [13]</td></tr>
<tr class="separator:a92d0e356e4e64003fb139359dd2fafc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the main file where AT commands are sent to gsm module requesting received SMS messages saved on SIM card within GSM module. SMS messages are being analyzed and replayed to with light intensity and light is switched off and on depending on SMS content. </p>
<dl class="section author"><dt>Author</dt><dd>Lovro Spetic, Vjera Turk, Patricija Zubalic </dd></dl>
<dl class="section date"><dt>Date</dt><dd>12 Jul 2016 </dd></dl>

<p>Definition in file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a62634036639f88eece6fbf226b45f84b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAUD&#160;&#160;&#160;9600</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>USART Baud rate </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00047">47</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a79d10e672abb49ad63eeaa8aaef57c38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUE&#160;&#160;&#160;PD2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pin for regulating BLUE back light </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00058">58</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a91cf1c8bed2b5667f322c71ac83e8294"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRC&#160;&#160;&#160;((<a class="el" href="_g_s_m1_8c.html#a43bafb28b29491ec7f871319b5a3b2f8">F_CPU</a>/16/<a class="el" href="_g_s_m1_8c.html#a62634036639f88eece6fbf226b45f84b">BAUD</a>)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Baud prescalar </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00049">49</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a43bafb28b29491ec7f871319b5a3b2f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define F_CPU&#160;&#160;&#160;8000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CPU clock frequency in Hertz </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00027">27</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2909a95b18063934f4eac3568e26406b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define F_PWM&#160;&#160;&#160;1000U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PWM frequency for backlight color regulation </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00039">39</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="acfbc006ea433ad708fdee3e82996e721"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GREEN&#160;&#160;&#160;PD3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pin for regulating GREEN back light </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00056">56</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="aeb7a7ba1ab7e0406f1b5ab36d579f585"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED&#160;&#160;&#160;PA2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Output pin for LED diode representing load or room lighting </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00061">61</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0240ac851181b84ac374872dc5434ee4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define N&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>prescalar </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00041">41</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8d23feea868a983c8c2b661e1e16972f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RED&#160;&#160;&#160;PD4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pin for regulating RED back light, PWM signal output pin </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00054">54</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2aa580da35d5419c2220143bf64a4b36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RED_DEF&#160;&#160;&#160;<a class="el" href="_g_s_m1_8c.html#afc0eef637f1016e8786e45e106a4881e">TOP</a>/3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Value in OCR1B register </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00045">45</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a739a2a1a0047c98ac1b18ecd25dac092"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RX_BUFFER_SIZE&#160;&#160;&#160;255</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of rxBuffer </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00051">51</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a44e89d523436fcbbf2c56e4fb335d509"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SLEEP&#160;&#160;&#160;PA3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Output pin connected to GP 18 on GSM module for entering sleep mode (with high voltage) </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00063">63</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="afc0eef637f1016e8786e45e106a4881e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOP&#160;&#160;&#160;(((<a class="el" href="_g_s_m1_8c.html#a43bafb28b29491ec7f871319b5a3b2f8">F_CPU</a>/<a class="el" href="_g_s_m1_8c.html#a2909a95b18063934f4eac3568e26406b">F_PWM</a>)/<a class="el" href="_g_s_m1_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When counter reaches TOP value stored in OCR1A register it can generate overflow interrupt </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00043">43</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8a5f77eb7b587559ddd23baf9e627434"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLUE_light </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function turns on blue back light. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00937">937</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a07d8ff69f127ae9293d7cbb94d0fe0cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delete_sms </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>tenner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends at command for deleting sms of certain index. For indexes higher than 9, it also sends out index's tenner. (The highest index it can request is 99, but since SIM car memory can handle around 25 messages it is not required) It than waits for GSM module to reply with OK, meaning sms was successfully deleted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td></td></tr>
    <tr><td class="paramname">tenner</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00870">870</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a902127e4aea445572098c396c6ad93ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int enable_text_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends at command for entering text mode. It is called in while loop while(!enable_text_mode()); until OK answer is received from GSM, meaning it has entered the text mode. </p>
<dl class="section return"><dt>Returns</dt><dd>0 or 1 depending on gsm answer (if answer is OK return is 1 else 0) </dd></dl>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00467">467</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a568ce1ccfefee4284778b848c42cad3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_from_number </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>read</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function extracts phone number from rxBuffer, (after it is confirmed that rxBuffer containes a valid READ or UNREAD message in <a class="el" href="_g_s_m1_8c.html#acc16f150772fbd71d51405a2be470727" title="Function analyzes what is written in rxBuffer after GSM finishes responding to AT command (requesting...">read_rxBuffer()</a> function) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">read</td><td>read==1 meaning message is UNREAD and phone number starts at position 24 read==2 meaning message is READ and phone number starts at position 22 It is assumed phone number has 12 digits. 385yy xxx xx xx Knowing on which position phone number starts, it extracts phone number from rxBuffer and saves it to global variable char from_phone_number. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00692">692</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="abcec23b2e480939c50208a82c76e3926"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t getLight </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function handles ad conversion. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00855">855</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1032665cec72a5ce76a2c32d73c7626f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GREEN_light </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function turns on green back light. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00943">943</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a02fd73d861ef2e4aabb38c0c9ff82947"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for initializing LCD, ADC and IO pins. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00436">436</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a68f52df99eb21e6ef4cf3dbcf0527f97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">USART_RXC_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USART Interrupt service routine which fills rxBuffer the moment new data is received. </p>
<p>Depending on which flag is previously set to '1', it knows what the received content OK represents (an answer to which AT command: request, delete, text mode) It then sets flag to '2', enabling actions that follow after the return from the interrupt service routine.</p>
<p>In sleep mode, where GSM module sends sms via USART direct to avr upon receipt, variable first_data indicates that </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00096">96</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="abb9b2bbe3bbab854567aa563482bedac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LUX </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If sms_flag is set to 2, meaning there is an SMS in rxBuffer, <a class="el" href="_g_s_m1_8c.html#abb9b2bbe3bbab854567aa563482bedac" title="If sms_flag is set to 2, meaning there is an SMS in rxBuffer, LUX()function is entered. It seeks code word &quot;LUX?&quot; in received SMS. ">LUX()</a>function is entered. It seeks code word "LUX?" in received SMS. </p>
<p>If code word "LUX?" is found <a class="el" href="_g_s_m1_8c.html#abcec23b2e480939c50208a82c76e3926" title="This function handles ad conversion. ">getLight()</a> function mesures light intensity and returns value between 1-255. Along with "dan" or "noc" (day(&gt;200) or night(&lt;200)) this value is send back via SMS.</p>
<p>If the light is off during night, it also sends a question if you would like to turn the light on. If the light is on during daylight, it sends a question if you would like to turn the light off. If the next message it receives is "DA" (yes) it switches the light off or on. </p>
<p>USART_puts(present); </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00714">714</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a840291bc02cba5474a4cb46a9b9566fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function is called once the program is started. It enables text mode and then empties sim card sms storage. Polling mode and sleep mode are 2 separate modes, this code is currently set for sleep mode. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00324">324</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a98a5fef7ee4b4629f64f6f39cc3b14f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void one_by_one </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function repeats the standard procedure of requesting, analyzing, responding to and deleting SMS for the 39 messages. Depending on SIM card type, it can contain 25 up to 32 sms messages in its memory. Other types of memory can contain more sms. </p>
<p>It is called in while loop from main function. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00511">511</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6784b2bb794bd47a615b7a9be2ebf7db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rainbow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function switches 6 back light colors, from red to violet. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00950">950</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a334b98c9b2ec82a777b7a9b02da430ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_new_sms </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>In sleep mode, this function reads content sent to UART upon receipt. Finds out sender's number and calls <a class="el" href="_g_s_m1_8c.html#abb9b2bbe3bbab854567aa563482bedac" title="If sms_flag is set to 2, meaning there is an SMS in rxBuffer, LUX()function is entered. It seeks code word &quot;LUX?&quot; in received SMS. ">LUX()</a> to analyze sms text. Afterwords, puts gsm to sleep mode by calling <a class="el" href="_g_s_m1_8c.html#a967cdecd71b387aa8a503177b46ef14b" title="This function sends AT command to allow sleep mode. When sleep mode is allowed, high voltage on pin G...">sleep_mode()</a> </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00386">386</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="acc16f150772fbd71d51405a2be470727"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_rxBuffer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function analyzes what is written in rxBuffer after GSM finishes responding to AT command (requesting SMS message). There are 3 answers it is looking for: 1) +CME: ERROR 321 2) +CMGR: "REC UNREAD","0","&lt;phone number&gt;",,"yy/MM/dd,hh:mm:ss+zz" &lt;sms text&gt;=""&gt; </p>
<p>OK</p>
<p>3) +CMGR: "REC READ","0","&lt;phone number&gt;",,"yy/MM/dd,hh:mm:ss+zz" &lt;sms text&gt;=""&gt;</p>
<p>OK meaning:</p>
<p>1) There is no message with this index. 2) There is UNREAD message, meaning phone number starts at position 24 of response. 3) There is READ message, meaning phone number starts at position 22 of response (UN ads 2 more characters before phone number). (This case is rare but covered. It would occur if message was not deleted or responded to the first time it is read)</p>
<p>4) If (CME and CMS )errors and booting lines (which start with +SIND) are received, request is repeated (return 0) after awhile. Global variable int sms_flag is set if UNREAD or READ message is found.</p>
<dl class="section return"><dt>Returns</dt><dd>1 if there is no message with requested index (empty)or if there is </dd>
<dd>
0 if the error has occurred and request has to be repeated </dd></dl>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00588">588</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac0a43b99fdf8950fb14112fd963881c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reboot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends AT command to reboot GSM module. </p>

</div>
</div>
<a class="anchor" id="a3947eb802e574b7c70d9d2d9dff66a16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RED_light </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function turns on red back light. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00931">931</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab79bbaaf84365d2ae6f6f2d8e1f43d2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void refresh_rxBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets rxReadPos and rxWritePos to 0 and "empties" rxBuffer. </p>
<p>It is used after end of analyzing rxBuffer content to empty the buffer which contains received data. Every new received answer from GSM is the only answer in rxBuffer. Buffer always contains only last received answer form GSM. All tough rxBuffer is circular, in normal situations, it's full capacity and overflow are never reached because of use of this function. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00925">925</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6751cac0e506160798577514a76613d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void request_sms </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>tenner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends at command for requesting sms of certain index. For indexes higher than 9, it also sends out index's tenner. (The highest index it can request is 99, but since SIM car memory can handle around 25 messages it is not required) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td></td></tr>
    <tr><td class="paramname">tenner</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00547">547</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a26336a79cf2d889f78f1cad5f53401f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void see_rxBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function puts rxBuffer content to 16x2 LCD screen. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00906">906</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a52f73151a8aff1d6f44a8a558131fae0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_sms </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>number</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>sms_text</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is for sending sms containing given text to given number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">number[]</td><td>phone number to send sms to </td></tr>
    <tr><td class="paramname">sms_text[]</td><td>text to send </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l01009">1009</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a967cdecd71b387aa8a503177b46ef14b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sleep_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends AT command to allow sleep mode. When sleep mode is allowed, high voltage on pin GP 18 puts GSM in sleep mode. </p>

</div>
</div>
<a class="anchor" id="a8f642029a9a7ac7b850d053ea701af26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USART_putc </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends one character to USART. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00125">125</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8071f54c9c2e903d271f6fd8c4d08e4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USART_puts </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>str</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends string of characters to USART. </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00137">137</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a582019b4589d11226a9005840396d839"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t del_flag =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>3-state flag: 0 - command not sent, 1 - command sent, 2 - OK answer received from GSM module </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00070">70</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a21e61d9a53270c072784d6124d6d574e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t first_data = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00084">84</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad4272aefa5f590aa888fe0c8a6c85525"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile char from_number[13]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Contains last sender's phone number </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00218">218</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="af0777dbb089411124a768d22d3aabcf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile char from_number_lux[13]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores last phone number to which a question was sent (to turn the light on/off) </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00241">241</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a72c878be34c4bff72645cdb6f38a05aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t k = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00382">382</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a92d0e356e4e64003fb139359dd2fafc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile char number[13]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Contains last sender's phone number (in sleep mode) </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00384">384</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8c03bd740247907ca6f763032dc750e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t rq_flag =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>3-state flag: 0 - command not sent, 1 - command sent, 2 - OK answer received from GSM module </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00068">68</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a52965a1c4f6d34e3a0afaa0133a8754e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char rxBuffer[<a class="el" href="_g_s_m1_8c.html#a739a2a1a0047c98ac1b18ecd25dac092">RX_BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer used for receiving data from USART </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00079">79</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="acb6fba3efa90550dfbda401e219680c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t rxReadPos =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00082">82</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4167a828df71486e84cae0823911302f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t rxWritePos =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00083">83</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae9bf48f1659aa8f7062da8cd3758ee2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int sms_flag =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>2-state flag: 0 - sms not (jet) found, 1 - a valid READ or UNREAD sms found </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00072">72</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a19014f9770342ac48702a7b9a1e497cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t tm_flag =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>3-state flag: 0 - command not sent, 1 - command sent, 2 - OK answer received from GSM module </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00066">66</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3b5ad21faf5dd46778fa9a97e290f736"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t upaljeno = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicates whether light is switched on or off </p>

<p>Definition at line <a class="el" href="_g_s_m1_8c_source.html#l00239">239</a> of file <a class="el" href="_g_s_m1_8c_source.html">GSM1.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_49ff5da10c8870a7ee7c3e93768da7bb.html">GSM1</a></li><li class="navelem"><a class="el" href="_g_s_m1_8c.html">GSM1.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
